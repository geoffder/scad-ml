<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>sweep_starburst (scad_ml.sweep_starburst)</title><link rel="stylesheet" href="../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="index.html">Up</a> – <a href="index.html">scad_ml</a> &#x00BB; sweep_starburst</nav><header class="odoc-preamble"><h1 id="path-transfomations-(standard-vs-euler)"><a href="#path-transfomations-(standard-vs-euler)" class="anchor"></a>Path transfomations (standard vs euler)</h1><pre><code>open Scad_ml</code></pre><p>Elbow shape for easily discernible orientation</p><pre><code>let poly =
  [ -10., -1.; -10., 6.; -7., 6.; -7., 1.; 7., 1.; 7., 6.; 10., 6.; 10., -1. ]
  |&gt; Path2.of_tups
  |&gt; Path2.scale (v2 0.7 0.7)
  |&gt; Poly2.make</code></pre><p>Paths radiating outwards from the origin, angled with 45° steps.</p><pre><code>let paths =
  let d = 20.
  and p { x; y; z } = [ v3 x y z; v3 (x *. 2.) (y *. 2.) (z *. 2.) ] in
  let out = [ v3 d 0. 0.; v3 d 0. d; v3 d 0. (-.d) ] in
  let f i = List.map (fun s -&gt; Vec3.rotate (v3 0. 0. Float.(pi /. 4. *. i)) s |&gt; p) out in
  p (v3 0. 0. d) :: p (v3 0. 0. (-.d)) :: List.concat_map f (List.init 8 Float.of_int)</code></pre><p>Original orientation of the shape <code>poly</code> for reference.</p><pre><code>let flat = Scad.linear_extrude ~height:1. (Poly2.to_scad poly)</code></pre><p>Extrude <code>poly</code> along each of the generated <code>paths</code>, using either default/standard, or euler path transformations (see <a href="Scad_ml/Path3/index.html#val-to_transforms"><code>Path3.to_transforms</code></a>).</p><pre><code>let starburst euler =
  let scad =
    let f path = Mesh.(to_scad @@ path_extrude ~euler ~path poly) in
    Scad.union @@ (flat :: List.map f paths)
  and name =
    Printf.sprintf &quot;sweep_starburst_%s.scad&quot; (if euler then &quot;euler&quot; else &quot;default&quot;)
  in
  Scad.to_file name scad

let () =
  starburst false;
  starburst true</code></pre></header><nav class="odoc-toc"><ul><li><a href="#default:">Default:</a></li><li><a href="#euler:">Euler:</a></li></ul></nav><div class="odoc-content"><h3 id="default:"><a href="#default:" class="anchor"></a>Default:</h3>
<p style="text-align:center;">
<img src="../assets/sweep_starburst_default.png" style="width:150mm;"/>
</p> <h3 id="euler:"><a href="#euler:" class="anchor"></a>Euler:</h3>
<p style="text-align:center;">
<img src="../assets/sweep_starburst_euler.png" style="width:150mm;"/>
</p> </div></body></html>