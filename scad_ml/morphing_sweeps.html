<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>morphing_sweeps (scad_ml.morphing_sweeps)</title><link rel="stylesheet" href="../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="index.html">Up</a> â€“ <a href="index.html">scad_ml</a> &#x00BB; morphing_sweeps</nav><header class="odoc-preamble"><h1 id="morphing-sweeps"><a href="#morphing-sweeps" class="anchor"></a>Morphing Sweeps</h1><pre><code>open Scad_ml

let () =
  let test_union s = Scad.union [ s; Scad.(translate (v3 4. 0. 0.) @@ sphere 1.) ] in
  Mesh.linear_morph
    ~refine:2
    ~ez:(v2 0.42 0., v2 1. 1.)
    ~slices:60
    ~outer_map:`Tangent
    ~height:3.
    (Poly2.ring ~fn:5 ~thickness:(v2 1. 1.) (v2 4. 4.))
    (Poly2.ring ~fn:80 ~thickness:(v2 0.2 0.2) (v2 1. 1.))
  |&gt; Mesh.to_scad
  |&gt; test_union
  |&gt; Scad.to_file &quot;eased_morph.scad&quot;</code></pre>
<p style="text-align:center;">
<img src="../assets/eased_morph.png" style="width:150mm;"/>
</p> <pre><code>let () =
  let test_union s = Scad.union [ s; Scad.sphere 2.5 ] in
  let path =
    let control =
      Vec3.[ v 0. 0. 2.; v 0. 20. 20.; v 40. 20. 10.; v 30. 0. 10. ]
      |&gt; Path3.quaternion (Quaternion.make (v3 1. 1. 0.) (Float.pi /. -5.))
    in
    Bezier3.curve ~fn:60 @@ Bezier3.of_path ~size:(`FlatRel 0.3) control
  and caps =
    Mesh.Cap.
      { bot = round ~holes:`Same @@ chamf ~height:(-1.2) ~angle:(Float.pi /. 8.) ()
      ; top = round @@ circ (`Radius 0.5)
      }
  and a = Poly2.ring ~fn:5 ~thickness:(v2 2.5 2.5) (v2 6. 6.)
  and b = Poly2.ring ~fn:80 ~thickness:(v2 2. 2.) (v2 4. 4.) in
  Mesh.path_morph ~refine:2 ~caps ~path ~outer_map:`Tangent a b
  |&gt; Mesh.to_scad
  |&gt; test_union
  |&gt; Scad.to_file &quot;tangent_morph_sweep.scad&quot;</code></pre>
<p style="text-align:center;">
<img src="../assets/tangent_morph_sweep.png" style="width:150mm;"/>
</p> </header><div class="odoc-content"></div></body></html>