<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Vec3 (scad_ml.Scad_ml.Vec3)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">scad_ml</a> &#x00BB; <a href="../index.html">Scad_ml</a> &#x00BB; Vec3</nav><header class="odoc-preamble"><h1>Module <code><span>Scad_ml.Vec3</span></code></h1><p>3-dimensional vector type.</p><p>In addition to basic math and vector operations, relevant transformation functions (and aliases) are mirroring those found in <a href="../Scad/index.html"><code>Scad</code></a> are provided. This allows for points in space represented by this type to moved around in a similar fashion to <a href="../Scad/index.html#type-t"><code>Scad.t</code></a>.</p></header><div class="odoc-content"><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <span class="keyword">struct</span> <span class="keyword">include</span> <a href="#">Vec3</a> <span class="keyword">end</span></span></code></summary><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = float * float * float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-zero" class="anchored"><a href="#val-zero" class="anchor"></a><code><span><span class="keyword">val</span> zero : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Zero vector = <code>(0., 0., 0.)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-equal" class="anchored"><a href="#val-equal" class="anchor"></a><code><span><span class="keyword">val</span> equal : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><h2 id="basic-arithmetic"><a href="#basic-arithmetic" class="anchor"></a>Basic Arithmetic</h2><div class="odoc-spec"><div class="spec value" id="val-horizontal_op" class="anchored"><a href="#val-horizontal_op" class="anchor"></a><code><span><span class="keyword">val</span> horizontal_op : <span><span>(<span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> float)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>horizontal_op f a b</code></p><p>Hadamard (element-wise) operation between vectors <code>a</code> and <code>b</code> using the function <code>f</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add" class="anchored"><a href="#val-add" class="anchor"></a><code><span><span class="keyword">val</span> add : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>add a b</code></p><p>Hadamard (element-wise) addition of vectors <code>a</code> and <code>b</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sub" class="anchored"><a href="#val-sub" class="anchor"></a><code><span><span class="keyword">val</span> sub : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>sub a b</code></p><p>Hadamard (element-wise) subtraction of vector <code>b</code> from <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mul" class="anchored"><a href="#val-mul" class="anchor"></a><code><span><span class="keyword">val</span> mul : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>mul a b</code></p><p>Hadamard (element-wise) product of vectors <code>a</code> and <code>b</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-div" class="anchored"><a href="#val-div" class="anchor"></a><code><span><span class="keyword">val</span> div : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>div a b</code></p><p>Hadamard (element-wise) division of vector <code>a</code> by <code>b</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-negate" class="anchored"><a href="#val-negate" class="anchor"></a><code><span><span class="keyword">val</span> negate : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>negate t</code></p><p>Negation of all elements of <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_scalar" class="anchored"><a href="#val-add_scalar" class="anchor"></a><code><span><span class="keyword">val</span> add_scalar : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>add_scalar t s</code></p><p>Element-wise addition of <code>s</code> to <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sub_scalar" class="anchored"><a href="#val-sub_scalar" class="anchor"></a><code><span><span class="keyword">val</span> sub_scalar : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>sub_scalar t s</code></p><p>Element-wise subtraction of <code>s</code> from <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mul_scalar" class="anchored"><a href="#val-mul_scalar" class="anchor"></a><code><span><span class="keyword">val</span> mul_scalar : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>mul_scalar t s</code></p><p>Element-wise multiplication of <code>t</code> by <code>s</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-div_scalar" class="anchored"><a href="#val-div_scalar" class="anchor"></a><code><span><span class="keyword">val</span> div_scalar : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>div_scalar t s</code></p><p>Element-wise division of <code>t</code> by <code>s</code>.</p></div></div><h2 id="vector-math"><a href="#vector-math" class="anchor"></a>Vector Math</h2><div class="odoc-spec"><div class="spec value" id="val-norm" class="anchored"><a href="#val-norm" class="anchor"></a><code><span><span class="keyword">val</span> norm : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p><code>norm t</code></p><p>Calculate the vector norm (a.k.a. magnitude) of <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-distance" class="anchored"><a href="#val-distance" class="anchor"></a><code><span><span class="keyword">val</span> distance : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p><code>distance a b</code></p><p>Calculate the magnitude of the difference (Hadamard subtraction) between <code>a</code> and <code>b</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-normalize" class="anchored"><a href="#val-normalize" class="anchor"></a><code><span><span class="keyword">val</span> normalize : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>normalize t</code></p><p>Normalize <code>t</code> to a vector for which the magnitude is equal to 1. e.g. <code>norm (normalize t) = 1.</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-dot" class="anchored"><a href="#val-dot" class="anchor"></a><code><span><span class="keyword">val</span> dot : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p><code>dot a b</code></p><p>Vector dot product of <code>a</code> and <code>b</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cross" class="anchored"><a href="#val-cross" class="anchor"></a><code><span><span class="keyword">val</span> cross : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>cross a b</code></p><p>Vector cross product of <code>a</code> and <code>b</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mean" class="anchored"><a href="#val-mean" class="anchor"></a><code><span><span class="keyword">val</span> mean : <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>mean l</code></p><p>Calculate the mean / average of all vectors in <code>l</code>.</p></div></div><h2 id="transformations"><a href="#transformations" class="anchor"></a>Transformations</h2><p>Equivalent to those found in <a href="../Scad/index.html"><code>Scad</code></a>. Quaternion operations are provided when this module is included in <a href="../index.html"><code>Scad_ml</code></a>.</p><div class="odoc-spec"><div class="spec value" id="val-rotate_x" class="anchored"><a href="#val-rotate_x" class="anchor"></a><code><span><span class="keyword">val</span> rotate_x : <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>rotate_x theta t</code></p><p>Rotate <code>t</code> by <code>theta</code> radians about the x-axis.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rotate_y" class="anchored"><a href="#val-rotate_y" class="anchor"></a><code><span><span class="keyword">val</span> rotate_y : <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>rotate_y theta t</code></p><p>Rotate <code>t</code> by <code>theta</code> radians about the y-ayis.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rotate_z" class="anchored"><a href="#val-rotate_z" class="anchor"></a><code><span><span class="keyword">val</span> rotate_z : <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>rotate_z theta t</code></p><p>Rotate <code>t</code> by <code>theta</code> radians about the z-azis.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rotate" class="anchored"><a href="#val-rotate" class="anchor"></a><code><span><span class="keyword">val</span> rotate : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>rotate r t</code></p><p>Euler (xyz) rotation of <code>t</code> by the angles in <code>theta</code>. Equivalent to <code>rotate_x rx t |&gt; rotate_y ry |&gt; rotate_z rz</code>, where <code>(rx, ry, rz) = r</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rotate_about_pt" class="anchored"><a href="#val-rotate_about_pt" class="anchor"></a><code><span><span class="keyword">val</span> rotate_about_pt : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>rotate_about_pt r pivot t</code></p><p>Translates <code>t</code> along the vector <code>pivot</code>, euler rotating the resulting vector with <code>r</code>, and finally, moving back along the vector <code>pivot</code>. Functionally, rotating about the point in space arrived at by the initial translation along the vector <code>pivot</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-translate" class="anchored"><a href="#val-translate" class="anchor"></a><code><span><span class="keyword">val</span> translate : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>translate p t</code></p><p>Translate <code>t</code> along the vector <code>p</code>. Equivalent to <a href="#val-add"><code>add</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-scale" class="anchored"><a href="#val-scale" class="anchor"></a><code><span><span class="keyword">val</span> scale : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>scale s t</code></p><p>Scale <code>t</code> by factors <code>s</code>. Equivalent to <a href="#val-mul"><code>mul</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mirror" class="anchored"><a href="#val-mirror" class="anchor"></a><code><span><span class="keyword">val</span> mirror : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>mirror ax t</code></p><p>Mirrors <code>t</code> on a plane through the origin, defined by the normal vector <code>ax</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-projection" class="anchored"><a href="#val-projection" class="anchor"></a><code><span><span class="keyword">val</span> projection : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>projection t</code></p><p>Project <code>t</code> onto the XY plane.</p></div></div><h2 id="utilities"><a href="#utilities" class="anchor"></a>Utilities</h2><div class="odoc-spec"><div class="spec value" id="val-map" class="anchored"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span>(<span>float <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> * <span class="type-var">'b</span> * <span class="type-var">'b</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_x" class="anchored"><a href="#val-get_x" class="anchor"></a><code><span><span class="keyword">val</span> get_x : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_y" class="anchored"><a href="#val-get_y" class="anchor"></a><code><span><span class="keyword">val</span> get_y : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_z" class="anchored"><a href="#val-get_z" class="anchor"></a><code><span><span class="keyword">val</span> get_z : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-to_string" class="anchored"><a href="#val-to_string" class="anchor"></a><code><span><span class="keyword">val</span> to_string : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-deg_of_rad" class="anchored"><a href="#val-deg_of_rad" class="anchor"></a><code><span><span class="keyword">val</span> deg_of_rad : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>deg_of_rad t</code></p><p>Element-wise conversion of <code>t</code> from radians to degrees.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rad_of_deg" class="anchored"><a href="#val-rad_of_deg" class="anchor"></a><code><span><span class="keyword">val</span> rad_of_deg : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>rad_to_deg t</code></p><p>Element-wise conversion of <code>t</code> from degrees to radians.</p></div></div><h2 id="2d---3d-conversion"><a href="#2d---3d-conversion" class="anchor"></a>2d - 3d conversion</h2><div class="odoc-spec"><div class="spec value" id="val-to_vec2" class="anchored"><a href="#val-to_vec2" class="anchor"></a><code><span><span class="keyword">val</span> to_vec2 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> float * float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-of_vec2" class="anchored"><a href="#val-of_vec2" class="anchor"></a><code><span><span class="keyword">val</span> of_vec2 : <span><span>(float * float)</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><h2 id="infix-operations"><a href="#infix-operations" class="anchor"></a>Infix operations</h2><div class="odoc-spec"><div class="spec value" id="val-(&lt;+&gt;)" class="anchored"><a href="#val-(&lt;+&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;+&gt;) : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>a &lt;+&gt; b</code></p><p>Hadamard (element-wise) addition of <code>a</code> and <code>b</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;-&gt;)" class="anchored"><a href="#val-(&lt;-&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;-&gt;) : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>a &lt;-&gt; b</code></p><p>Hadamard (element-wise) subtraction of <code>b</code> from <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;*&gt;)" class="anchored"><a href="#val-(&lt;*&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;*&gt;) : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>a &lt;*&gt; b</code></p><p>Hadamard (element-wise) product of <code>a</code> and <code>b</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;/&gt;)" class="anchored"><a href="#val-(&lt;/&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;/&gt;) : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>a &lt;/&gt; b</code></p><p>Hadamard (element-wise) division of <code>a</code> by <code>b</code>.</p></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-quaternion" class="anchored"><a href="#val-quaternion" class="anchor"></a><code><span><span class="keyword">val</span> quaternion : <span><a href="../Quaternion/index.html#type-t">Quaternion.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">Vec3.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">Vec3.t</a></span></code></div><div class="spec-doc"><p><code>quaternion q t</code></p><p>Rotate <code>t</code> with the quaternion <code>q</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-quaternion_about_pt" class="anchored"><a href="#val-quaternion_about_pt" class="anchor"></a><code><span><span class="keyword">val</span> quaternion_about_pt : <span><a href="../Quaternion/index.html#type-t">Quaternion.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">Vec3.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">Vec3.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">Vec3.t</a></span></code></div><div class="spec-doc"><p><code>quaternion_about_pt q p t</code></p><p>Translates <code>t</code> along the vector <code>p</code>, rotating the resulting vector with the quaternion <code>q</code>, and finally, moving back along the vector <code>p</code>. Functionally, rotating about the point in space arrived at by the initial translation along the vector <code>p</code>.</p></div></div></div></body></html>