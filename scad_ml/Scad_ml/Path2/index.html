<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Path2 (scad_ml.Scad_ml.Path2)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">scad_ml</a> &#x00BB; <a href="../index.html">Scad_ml</a> &#x00BB; Path2</nav><header class="odoc-preamble"><h1>Module <code><span>Scad_ml.Path2</span></code></h1><p>2d path generation (including arcs and basic shapes), manipulation (including offset and roundovers (see <a href="Round/index.html"><code>Round</code></a>), and measurement.</p></header><nav class="odoc-toc"><ul><li><a href="#general-path-utilities">General Path Utilities</a></li><li><a href="#creation-and-2d-3d-conversion">Creation and 2d-3d conversion</a></li><li><a href="#basic-shapes">Basic Shapes</a></li><li><a href="#drawing-arcs-and-splines">Drawing Arcs and Splines</a></li><li><a href="#roundovers">Roundovers</a></li><li><a href="#geometry">Geometry</a></li><li><a href="#basic-transfomations">Basic Transfomations</a></li><li><a href="#debugging-helpers">Debugging helpers</a></li><li><a href="#output">Output</a></li></ul></nav><div class="odoc-content"><div class="odoc-include"><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = <span><a href="../Vec2/index.html#type-t">Vec2.t</a> list</span></span></code></div></div><h2 id="general-path-utilities"><a href="#general-path-utilities" class="anchor"></a>General Path Utilities</h2><div class="odoc-spec"><div class="spec value" id="val-length" class="anchored"><a href="#val-length" class="anchor"></a><code><span><span class="keyword">val</span> length : <span>?closed:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p><code>length ?closed path</code></p><p>Calculate the length (total travel distance) of the <code>path</code>. If <code>closed</code> is <code>true</code>, include the distance between the endpoints.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cummulative_length" class="anchored"><a href="#val-cummulative_length" class="anchor"></a><code><span><span class="keyword">val</span> cummulative_length : <span>?closed:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>float list</span></span></code></div><div class="spec-doc"><p><code>cummulative_length ?closed path</code></p><p>Calculate the cummulative length (distance travelled by each point) along the <code>path</code>. If <code>closed</code> is <code>true</code>, include the distance between the endpoints.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_continuous" class="anchored"><a href="#val-to_continuous" class="anchor"></a><code><span><span class="keyword">val</span> to_continuous : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="../Vec2/index.html#type-t">Vec2.t</a></span></code></div><div class="spec-doc"><p><code>to_continuous path</code></p><p>Return a continuous function from values over the range of <code>0.</code> to <code>1.</code> to positions along <code>path</code> (like a bezier function).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-resample" class="anchored"><a href="#val-resample" class="anchor"></a><code><span><span class="keyword">val</span> resample : <span>freq:<span>[&lt; <span>`N of int</span> <span><span>| `Spacing</span> of float</span> ]</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>resample ~freq path</code></p><p>Resample <code>path</code> with the given <code>freq</code>uency (either a flat number of points, or a target point spacing). Note that the only points guaranteed to appear in the output are the start and end points of <code>path</code>. For upsampling that preserves input points, see <a href="#val-subdivide"><code>subdivide</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-subdivide" class="anchored"><a href="#val-subdivide" class="anchor"></a><code><span><span class="keyword">val</span> subdivide : 
  <span>?closed:bool <span class="arrow">&#45;&gt;</span></span>
  <span>freq:
    <span>[&gt; <span>`ExactN of int</span>
    <span><span>| `ExactRefine</span> of int</span>
    <span><span>| `N</span> of int</span>
    <span><span>| `Refine</span> of int</span>
    <span><span>| `Spacing</span> of float</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Vec2/index.html#type-t">Vec2.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Vec2/index.html#type-t">Vec2.t</a> list</span></span></code></div><div class="spec-doc"><p><code>subdivide ?closed ~freq path</code></p><p>Subdivides <code>path</code> with given <code>freq</code>uency, including each of the original points in the output (unlike <a href="#val-resample"><code>resample</code></a>). This can be a flat number of points provided directly with <code>`N n</code>, or as a multiple of number of points in <code>path</code> with <code>`Refine factor</code>. Alternatively, a maximum <code>`Spacing dist</code> can be specified instead. The exact point sampling variants will return the number of points specified, at the expense of sampling uniformity.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-split" class="anchored"><a href="#val-split" class="anchor"></a><code><span><span class="keyword">val</span> split : 
  <span>?closed:bool <span class="arrow">&#45;&gt;</span></span>
  <span>distance:<span>[ <span>`Abs of float</span> <span><span>| `Rel</span> of float</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a> * <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>split ?closed ~distance path</code></p><p>Split <code>path</code> into two at the position <code>distance</code> (<code>`Abs</code>olute or <code>`Rel</code>ative) along <code>path</code> from the start. If <code>closed</code> is <code>true</code>, the segment between the end and beginning of <code>path</code> will be considered, and the first point will be the last of the second path returned. Negative <code>`Abs distance</code> will start from the end to find the split point. Raises <code>Invalid_argument</code> if <code>distance</code> is an endpoint, or further than the end of the <code>path</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-noncollinear_triple" class="anchored"><a href="#val-noncollinear_triple" class="anchor"></a><code><span><span class="keyword">val</span> noncollinear_triple : <span>?eps:float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../Vec2/index.html#type-t">Vec2.t</a> * <a href="../Vec2/index.html#type-t">Vec2.t</a> * <a href="../Vec2/index.html#type-t">Vec2.t</a>)</span> option</span></span></code></div><div class="spec-doc"><p><code>noncollinear_triple ?eps path</code></p><p>Returns a triple of non-collinear points from <code>path</code> (if the path is not completely collinear). Two well separated points are selected, and the third point is the furthest off the line drawn by the first two points.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_collinear" class="anchored"><a href="#val-is_collinear" class="anchor"></a><code><span><span class="keyword">val</span> is_collinear : <span>?eps:float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_collinear ?eps path</code></p><p>Returns <code>true</code> if all points in <code>path</code> are collinear (fall within <code>eps</code> distance of the same line).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prune_collinear" class="anchored"><a href="#val-prune_collinear" class="anchor"></a><code><span><span class="keyword">val</span> prune_collinear : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>prune_collinear path</code></p><p>Remove collinear points from <code>path</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-deriv" class="anchored"><a href="#val-deriv" class="anchor"></a><code><span><span class="keyword">val</span> deriv : <span>?closed:bool <span class="arrow">&#45;&gt;</span></span> <span>?h:float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>deriv ?closed ?h path</code></p><p>Computes a numerical derivative of <code>path</code>, with <code>h</code> (default <code>1.</code>) giving the step size of the sampling of <code>path</code>, so that the derivative can be scaled correctly. Setting <code>closed</code> to <code>true</code> will include computation of the derivative between the last and first point of the <code>path</code> (default <code>false</code>).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-deriv_nonuniform" class="anchored"><a href="#val-deriv_nonuniform" class="anchor"></a><code><span><span class="keyword">val</span> deriv_nonuniform : <span>?closed:bool <span class="arrow">&#45;&gt;</span></span> <span>h:<span>float list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>deriv_nonuniform ?closed ?h path</code></p><p>Computes a numerical derivative of <code>path</code>, with <code>h</code> giving the non-uniform step sizes of the sampling of <code>path</code>, so that the derivative can be scaled correctly. Setting <code>closed</code> to <code>true</code> will include computation of the derivative between the last and first point of the <code>path</code> (default <code>false</code>). As <code>h</code> provides scaling factors for each segment of the path, it must have a length of one less than <code>path</code> if it's unclosed, and the same length if <code>closed</code> is <code>true</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-tangents" class="anchored"><a href="#val-tangents" class="anchor"></a><code><span><span class="keyword">val</span> tangents : <span>?uniform:bool <span class="arrow">&#45;&gt;</span></span> <span>?closed:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>tangents ?uniform ?closed path</code></p><p>Compute tangent unit vectors of <code>path</code>. Set <code>closed</code> to <code>true</code> to indicate that tangents should include between the end and beginning of the path (default = <code>false</code>). Sampling of <code>path</code> is assumed to be <code>uniform</code> unless the parameter is set to <code>false</code>, in which case the derivatives will be adjusted to correct for non-uniform sampling of points.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-continuous_closest_point" class="anchored"><a href="#val-continuous_closest_point" class="anchor"></a><code><span><span class="keyword">val</span> continuous_closest_point : 
  <span>?n_steps:int <span class="arrow">&#45;&gt;</span></span>
  <span>?max_err:float <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span>float <span class="arrow">&#45;&gt;</span></span> <a href="../Vec2/index.html#type-t">Vec2.t</a> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Vec2/index.html#type-t">Vec2.t</a> <span class="arrow">&#45;&gt;</span></span>
  float</span></code></div><div class="spec-doc"><p><code>continuous_closest_point ?n_steps ?max_err f p</code></p><p>Find the closest position (from <code>0.</code> to <code>1.</code>) along the path function <code>f</code> to the point <code>p</code>.</p><ul><li><code>n_steps</code> sets the granularity of search at each stage.</li><li><code>max_err</code> the maximum distance the solution can be from the target <code>p</code></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-segment" class="anchored"><a href="#val-segment" class="anchor"></a><code><span><span class="keyword">val</span> segment : <span>?closed:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Vec2/index.html#type-line">Vec2.line</a> list</span></span></code></div><div class="spec-doc"><p><code>segment ?closed path</code></p><p>Break <code>path</code> into line segments. If <code>closed</code> is <code>true</code>, include a segment between the last and first points of <code>path</code> (default <code>false</code>).</p></div></div></div><div class="odoc-spec"><div class="spec value" id="val-nearby_idxs" class="anchored"><a href="#val-nearby_idxs" class="anchor"></a><code><span><span class="keyword">val</span> nearby_idxs : 
  <span>?min_tree_size:int <span class="arrow">&#45;&gt;</span></span>
  <span>?radius:float <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Vec2/index.html#type-t">Vec2.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Vec2/index.html#type-t">Vec2.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>int list</span></span></code></div><div class="spec-doc"><p><code>nearby_idxs ?min_tree_size ?radius path p</code></p><p>Find the indices of points within <code>radius</code> (default = <code>1e-9</code>) distance from the target point <code>p</code> in <code>path</code>. Match indices will be returned in arbitrary order (unsorted). When <code>path</code> is provided (eagerly on partial application), the length will be checked and a function to perform the search will be generated. If <code>path</code> is shorter than <code>min_tree_size</code>, it will be a simple direct search otherwise a <a href="../BallTree2/index.html#type-t"><code>BallTree2.t</code></a> will be constructed. Thus, if you plan to search for more than one target point, take care to apply this function in two steps to avoid repeated length checks and closure/tree generations.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-nearby_points" class="anchored"><a href="#val-nearby_points" class="anchor"></a><code><span><span class="keyword">val</span> nearby_points : 
  <span>?min_tree_size:int <span class="arrow">&#45;&gt;</span></span>
  <span>?radius:float <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Vec2/index.html#type-t">Vec2.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Vec2/index.html#type-t">Vec2.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Vec2/index.html#type-t">Vec2.t</a> list</span></span></code></div><div class="spec-doc"><p><code>nearby_points ?min_tree_size ?radius path</code></p><p>Find the points within <code>radius</code> (default = <code>1e-9</code>) distance from the target point <code>p</code> in <code>path</code>. Matched points will be returned in arbitrary order (unsorted). When <code>path</code> is provided (eagerly on partial application), the length will be checked and a function to perform the search will be generated. If <code>path</code> is shorter than <code>min_tree_size</code>, it will be a simple direct search otherwise a <a href="../BallTree2/index.html#type-t"><code>BallTree2.t</code></a> will be constructed. Thus, if you plan to search for more than one target point, take care to apply this function in two steps to avoid repeated length checks and closure/tree generations.</p></div></div><h2 id="creation-and-2d-3d-conversion"><a href="#creation-and-2d-3d-conversion" class="anchor"></a>Creation and 2d-3d conversion</h2><div class="odoc-spec"><div class="spec value" id="val-of_tups" class="anchored"><a href="#val-of_tups" class="anchor"></a><code><span><span class="keyword">val</span> of_tups : <span><span><span>(float * float)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_tups ps</code></p><p>Create a 2d path from a list of xy coordinate tuples.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_path3" class="anchored"><a href="#val-of_path3" class="anchor"></a><code><span><span class="keyword">val</span> of_path3 : <span>?plane:<a href="../Plane/index.html#type-t">Plane.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Vec3/index.html#type-t">Vec3.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_path3 p</code></p><p>Project the 3d path <code>p</code> onto the given <code>plane</code> (default = <a href="../Plane/index.html#val-xy"><code>Plane.xy</code></a>).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_path3" class="anchored"><a href="#val-to_path3" class="anchor"></a><code><span><span class="keyword">val</span> to_path3 : <span>?plane:<a href="../Plane/index.html#type-t">Plane.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Vec3/index.html#type-t">Vec3.t</a> list</span></span></code></div><div class="spec-doc"><p><code>to_path3 t</code></p><p>Lift the 2d path <code>p</code> onto the given <code>plane</code> (default = <a href="../Plane/index.html#val-xy"><code>Plane.xy</code></a>).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-lift" class="anchored"><a href="#val-lift" class="anchor"></a><code><span><span class="keyword">val</span> lift : <span><a href="../Plane/index.html#type-t">Plane.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Vec3/index.html#type-t">Vec3.t</a> list</span></span></code></div><div class="spec-doc"><p><code>lift plane t</code></p><p>Lift the 2d path <code>t</code> onto the 3d <code>plane</code>.</p></div></div><h2 id="basic-shapes"><a href="#basic-shapes" class="anchor"></a>Basic Shapes</h2><div class="odoc-spec"><div class="spec value" id="val-circle" class="anchored"><a href="#val-circle" class="anchor"></a><code><span><span class="keyword">val</span> circle : <span>?fn:int <span class="arrow">&#45;&gt;</span></span> <span>?fa:float <span class="arrow">&#45;&gt;</span></span> <span>?fs:float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>circle ?fn ?fa ?fs r</code></p><p>Create a circular path of radius <code>r</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-square" class="anchored"><a href="#val-square" class="anchor"></a><code><span><span class="keyword">val</span> square : <span>?center:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="../Vec2/index.html#type-t">Vec2.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>square ?center dims</code></p><p>Create a rectangular path with xy <code>dims</code> (e.g. width and height). If <code>center</code> is <code>true</code> then the path will be centred around the origin (default = <code>false</code>).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-star" class="anchored"><a href="#val-star" class="anchor"></a><code><span><span class="keyword">val</span> star : <span>r1:float <span class="arrow">&#45;&gt;</span></span> <span>r2:float <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>star ~r1 ~r2 n</code></p><p>Draw an <code>n</code> pointed star with inner radius <code>r1</code> and outer radius <code>r2</code>.</p></div></div><h2 id="drawing-arcs-and-splines"><a href="#drawing-arcs-and-splines" class="anchor"></a>Drawing Arcs and Splines</h2><div class="odoc-spec"><div class="spec value" id="val-arc" class="anchored"><a href="#val-arc" class="anchor"></a><code><span><span class="keyword">val</span> arc : 
  <span>?rev:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?fn:int <span class="arrow">&#45;&gt;</span></span>
  <span>?fa:float <span class="arrow">&#45;&gt;</span></span>
  <span>?fs:float <span class="arrow">&#45;&gt;</span></span>
  <span>?wedge:bool <span class="arrow">&#45;&gt;</span></span>
  <span>centre:<a href="../Vec2/index.html#type-t">Vec2.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>radius:float <span class="arrow">&#45;&gt;</span></span>
  <span>start:float <span class="arrow">&#45;&gt;</span></span>
  <span>float <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>arc ?rev ?fn ?fa ?fs ?wedge ~centre ~radius ~start a</code></p><p>Draw an arc of <code>a</code> radians with <code>radius</code> around the point <code>centre</code>, beginning with the angle <code>start</code>. If <code>wedge</code> is <code>true</code>, <code>centre</code> will be included as the last point of the returned path (default = <code>false</code>). If <code>rev</code> is <code>true</code>, the arc will end at <code>start</code>, rather than begin there.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-arc_about_centre" class="anchored"><a href="#val-arc_about_centre" class="anchor"></a><code><span><span class="keyword">val</span> arc_about_centre : 
  <span>?rev:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?fn:int <span class="arrow">&#45;&gt;</span></span>
  <span>?fa:float <span class="arrow">&#45;&gt;</span></span>
  <span>?fs:float <span class="arrow">&#45;&gt;</span></span>
  <span>?dir:<span>[ `CW <span>| `CCW</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?wedge:bool <span class="arrow">&#45;&gt;</span></span>
  <span>centre:<a href="../Vec2/index.html#type-t">Vec2.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Vec2/index.html#type-t">Vec2.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Vec2/index.html#type-t">Vec2.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>arc_about_centre ?rev ?fn ?fa ?fs ?dir ?wedge ~centre p1 p2</code></p><p>Draw an arc between the points <code>p1</code> and <code>p2</code>, about <code>centre</code>. <code>dir</code> can be provided to enforce clockwise or counter-clockwise winding direction. By default, the direction is computed automatically, though if <code>centre</code>, <code>p1</code>, and <code>p2</code> do not form a valid triangle (they're collinear), an <code>Invalid_argument</code> exception will be raised if <code>dir</code> is not provided.</p><ul><li>See <a href="#val-arc"><code>arc</code></a> for notes on <code>rev</code> and <code>wedge</code>.</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-arc_through" class="anchored"><a href="#val-arc_through" class="anchor"></a><code><span><span class="keyword">val</span> arc_through : 
  <span>?rev:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?fn:int <span class="arrow">&#45;&gt;</span></span>
  <span>?fa:float <span class="arrow">&#45;&gt;</span></span>
  <span>?fs:float <span class="arrow">&#45;&gt;</span></span>
  <span>?wedge:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Vec2/index.html#type-t">Vec2.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Vec2/index.html#type-t">Vec2.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Vec2/index.html#type-t">Vec2.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>arc_through ?rev ?fn ?fa ?fs ?wedge p1 p2 p3</code></p><p>Draw an arc through the points <code>p1</code>, <code>p2</code>, and <code>p3</code>. If the points do not form a valid triangle (they're collinear), an <code>Invalid_argument</code> exception will be raised.</p><ul><li>See <a href="#val-arc"><code>arc</code></a> for notes on <code>rev</code>, and <code>wedge</code>.</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-cubic_spline" class="anchored"><a href="#val-cubic_spline" class="anchor"></a><code><span><span class="keyword">val</span> cubic_spline : <span>?boundary:<a href="../CubicSpline/index.html#type-boundary">CubicSpline.boundary</a> <span class="arrow">&#45;&gt;</span></span> <span>fn:int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>cubic_spline ?boundary ~fn ps</code></p><p>Calculate a cubic spline with the given <code>boundary</code> condition (defaults to <code>`Natural</code>) for the 2-dimensional control points <code>ps</code>, and immediately interpolate a path of <code>fn</code> points along it. See the <a href="../CubicSpline/index.html"><code>CubicSpline</code></a> module for more details.</p></div></div><h2 id="roundovers"><a href="#roundovers" class="anchor"></a>Roundovers</h2><p>Outline offsets with optional rounding/chamfering as found in OpenSCADs 2d sub-system, as well as specification and application of non-offseting roundovers (circular, chamfer, and bezier (continuous curvature)) to 2d paths.</p><p>Based on the <a href="https://github.com/revarbat/BOSL2">BOSL2</a> <a href="https://github.com/revarbat/BOSL2/blob/master/rounding.scad">rounding</a> module.</p><div class="odoc-spec"><div class="spec value" id="val-offset" class="anchored"><a href="#val-offset" class="anchor"></a><code><span><span class="keyword">val</span> offset : 
  <span>?fn:int <span class="arrow">&#45;&gt;</span></span>
  <span>?fs:float <span class="arrow">&#45;&gt;</span></span>
  <span>?fa:float <span class="arrow">&#45;&gt;</span></span>
  <span>?closed:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?check_valid:<span>[ <span>`Quality of int</span> <span>| `No</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>[&lt; <span>`Chamfer of float</span> <span><span>| `Delta</span> of float</span> <span><span>| `Radius</span> of float</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>offset ?fn ?fs ?fa ?closed ?check_valid spec path</code></p><p>Offset a 2d <code>path</code> (treated as <code>closed</code> by default) by the <code>spec</code>ified amount.</p><ul><li><code>`Delta d</code> will create a new outline whose sides are a fixed distance <code>d</code> (+ve out, -ve in) from the original outline.</li><li><code>`Chamfer d</code> fixed distance offset by <code>d</code> as with delta, but with corners chamfered.</li><li><code>`Radius r</code> creates a new outline as if a circle of some radius <code>r</code> is rotated around the exterior (<code>r &gt; 0</code>) or interior (<code>r &lt; 0</code>) original outline. <code>fn</code>, <code>fs</code>, and <code>fa</code> parameters govern the number of points that will be used for these arcs (they are ignored for delta and chamfer modes).</li><li>The <code>check_valid</code> default of <code>`Quality 1</code> will check the validity of shifted line segments by checking whether their ends and <code>n</code> additional points spaced throughout are far enough from the original path. If there are no points that have been offset by the target <code>d</code>, a <code>Failure</code> exception will be raised. Checking can be turned off by setting this to <code>`No</code>.</li></ul></div></div><div class="odoc-include"><div class="odoc-spec"><div class="spec module" id="module-Round" class="anchored"><a href="#module-Round" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Round/index.html">Round</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Configuration module with types and helpers for specifying path roundovers.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-roundover" class="anchored"><a href="#val-roundover" class="anchor"></a><code><span><span class="keyword">val</span> roundover : <span>?fn:int <span class="arrow">&#45;&gt;</span></span> <span>?fa:float <span class="arrow">&#45;&gt;</span></span> <span>?fs:float <span class="arrow">&#45;&gt;</span></span> <span><a href="Round/index.html#type-t">Round.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Vec2/index.html#type-t">Vec2.t</a> list</span></span></code></div><div class="spec-doc"><p><code>roundover ?fn ?fa ?fs path_spec</code></p><p>Apply the roundover specifictions in <code>path_spec</code> on the bundled path/shape, with quality set by the <code>fn</code>, <code>fa</code>, and <code>fs</code> parameters.</p></div></div></div><h2 id="geometry"><a href="#geometry" class="anchor"></a>Geometry</h2><div class="odoc-spec"><div class="spec value" id="val-clockwise_sign" class="anchored"><a href="#val-clockwise_sign" class="anchor"></a><code><span><span class="keyword">val</span> clockwise_sign : <span>?eps:float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p><code>clockwise_sign path</code></p><p>Returns the rotational ordering of <code>path</code> as a signed float, <code>-1.</code> for clockwise, and <code>1.</code> for counter-clockwise. If all points are collinear (within the tolerance of <code>eps</code>), <code>0.</code> is returned.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_clockwise" class="anchored"><a href="#val-is_clockwise" class="anchor"></a><code><span><span class="keyword">val</span> is_clockwise : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_clockwise path</code></p><p>Returns <code>true</code> if the rotational ordering of <code>path</code> is clockwise.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-self_intersections" class="anchored"><a href="#val-self_intersections" class="anchor"></a><code><span><span class="keyword">val</span> self_intersections : <span>?eps:float <span class="arrow">&#45;&gt;</span></span> <span>?closed:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>self_intersection ?eps ?closed path</code></p><p>Find the points at which <code>path</code> intersects itself (within the tolerance of <code>eps</code>). If <code>closed</code> is <code>true</code>, a line segment between the last and first points will be considered (default = <code>false</code>).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_simple" class="anchored"><a href="#val-is_simple" class="anchor"></a><code><span><span class="keyword">val</span> is_simple : <span>?eps:float <span class="arrow">&#45;&gt;</span></span> <span>?closed:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_simple ?eps ?closed path</code></p><p>Return <code>true</code> if <code>path</code> is simple, e.g. contains no (paralell) reversals or self-intersections (within the tolerance <code>eps</code>). If <code>closed</code> is <code>true</code>, a line segment between the last and first points will be considered (default = <code>false</code>).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-bbox" class="anchored"><a href="#val-bbox" class="anchor"></a><code><span><span class="keyword">val</span> bbox : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Vec2/index.html#type-bbox">Vec2.bbox</a></span></code></div><div class="spec-doc"><p><code>bbox t</code></p><p>Compute the 2d bounding box of the path <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-centroid" class="anchored"><a href="#val-centroid" class="anchor"></a><code><span><span class="keyword">val</span> centroid : <span>?eps:float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Vec2/index.html#type-t">Vec2.t</a></span></code></div><div class="spec-doc"><p><code>centroid ?eps t</code></p><p>Compute the centroid of the path <code>t</code>. If <code>t</code> is collinear or self-intersecting (within <code>eps</code> tolerance), an <code>Invalid_argument</code> exception is raised.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-area" class="anchored"><a href="#val-area" class="anchor"></a><code><span><span class="keyword">val</span> area : <span>?signed:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p><code>area ?signed t</code></p><p>Compute the signed or unsigned area of the path <code>t</code> (unsigned by default).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-point_inside" class="anchored"><a href="#val-point_inside" class="anchor"></a><code><span><span class="keyword">val</span> point_inside : 
  <span>?eps:float <span class="arrow">&#45;&gt;</span></span>
  <span>?nonzero:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Vec2/index.html#type-t">Vec2.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>[&gt; `Inside <span>| `OnBorder</span> <span>| `Outside</span> ]</span></span></code></div><div class="spec-doc"><p><code>point_inside ?eps ?nonzero t p</code></p><p>Determine whether the point <code>p</code> is inside, on the border of, or outside the closed path <code>t</code> (may be non-simple / contain self-intersections). If <code>nonzero</code> is <code>true</code>, the <a href="https://en.wikipedia.org/wiki/Nonzero-rule">Nonzero rule</a> is followed, wherein a point is considered inside the polygon formed by <code>t</code> regardless of the number of times the containing regions overlap, by default this is <code>false</code>, and the <a href="https://en.wikipedia.org/wiki/Evenâ€“odd_rule">Even-Odd rule</a> is followed (as with in OpenSCAD).</p></div></div><h2 id="basic-transfomations"><a href="#basic-transfomations" class="anchor"></a>Basic Transfomations</h2><div class="odoc-spec"><div class="spec value" id="val-translate" class="anchored"><a href="#val-translate" class="anchor"></a><code><span><span class="keyword">val</span> translate : <span><a href="../Vec2/index.html#type-t">Vec2.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-rotate" class="anchored"><a href="#val-rotate" class="anchor"></a><code><span><span class="keyword">val</span> rotate : <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-rotate_about_pt" class="anchored"><a href="#val-rotate_about_pt" class="anchor"></a><code><span><span class="keyword">val</span> rotate_about_pt : <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="../Vec2/index.html#type-t">Vec2.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-multmatrix" class="anchored"><a href="#val-multmatrix" class="anchor"></a><code><span><span class="keyword">val</span> multmatrix : <span><a href="../MultMatrix/index.html#type-t">MultMatrix.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Vec3/index.html#type-t">Vec3.t</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-quaternion" class="anchored"><a href="#val-quaternion" class="anchor"></a><code><span><span class="keyword">val</span> quaternion : <span><a href="../Quaternion/index.html#type-t">Quaternion.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Vec3/index.html#type-t">Vec3.t</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-quaternion_about_pt" class="anchored"><a href="#val-quaternion_about_pt" class="anchor"></a><code><span><span class="keyword">val</span> quaternion_about_pt : <span><a href="../Quaternion/index.html#type-t">Quaternion.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Vec3/index.html#type-t">Vec3.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Vec3/index.html#type-t">Vec3.t</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-vector_rotate" class="anchored"><a href="#val-vector_rotate" class="anchor"></a><code><span><span class="keyword">val</span> vector_rotate : <span><a href="../Vec3/index.html#type-t">Vec3.t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Vec3/index.html#type-t">Vec3.t</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-vector_rotate_about_pt" class="anchored"><a href="#val-vector_rotate_about_pt" class="anchor"></a><code><span><span class="keyword">val</span> vector_rotate_about_pt : <span><a href="../Vec3/index.html#type-t">Vec3.t</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="../Vec3/index.html#type-t">Vec3.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Vec3/index.html#type-t">Vec3.t</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-scale" class="anchored"><a href="#val-scale" class="anchor"></a><code><span><span class="keyword">val</span> scale : <span><a href="../Vec2/index.html#type-t">Vec2.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mirror" class="anchored"><a href="#val-mirror" class="anchor"></a><code><span><span class="keyword">val</span> mirror : <span><a href="../Vec2/index.html#type-t">Vec2.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><h2 id="debugging-helpers"><a href="#debugging-helpers" class="anchor"></a>Debugging helpers</h2><div class="odoc-spec"><div class="spec value" id="val-show_points" class="anchored"><a href="#val-show_points" class="anchor"></a><code><span><span class="keyword">val</span> show_points : <span><span>( <span>int <span class="arrow">&#45;&gt;</span></span> <a href="../Scad/index.html#type-d3">Scad.d3</a> )</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Scad/index.html#type-d3">Scad.d3</a></span></code></div></div><h2 id="output"><a href="#output" class="anchor"></a>Output</h2><div class="odoc-spec"><div class="spec value" id="val-to_scad" class="anchored"><a href="#val-to_scad" class="anchor"></a><code><span><span class="keyword">val</span> to_scad : <span>?convexity:int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Scad/index.html#type-d2">Scad.d2</a></span></code></div><div class="spec-doc"><p><code>to_scad ?convexity t</code></p><p>Create a <a href="../Scad/index.html#type-t"><code>Scad.t</code></a> from the path <code>t</code>, via <a href="../Scad/index.html#val-polygon"><code>Scad.polygon</code></a>.</p></div></div></div></body></html>