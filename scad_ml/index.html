<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>index (scad_ml.index)</title><link rel="stylesheet" href="../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ scad_ml</nav><header class="odoc-preamble"><h1 id="scad_ml"><a href="#scad_ml" class="anchor"></a>Scad_ml</h1><p>Scad_ml is an OCaml DSL for the <a href="https://openscad.org/">OpenSCAD</a> solid modelling language.</p></header><nav class="odoc-toc"><ul><li><a href="#notable-differences-from-the-openscad-language">Notable differences from the OpenSCAD language</a></li><li><a href="#usage">Usage</a></li><li><a href="#api">API</a><ul><li><a href="#core-dsl">Core DSL</a></li><li><a href="#vectors-and-transformations">Vectors and transformations</a></li><li><a href="#2d-paths-and-polygons">2d paths and polygons</a></li><li><a href="#3d-paths,-coplanar-polygons,-and-meshes">3d paths, coplanar polygons, and meshes</a></li><li><a href="#utilities">Utilities</a></li></ul></li><li><a href="#examples">Examples</a><ul><li><a href="#paths-and-sweeps">Paths and Sweeps</a></li><li><a href="#rounded-extrusions">Rounded Extrusions</a></li><li><a href="#skins-and-morphs">Skins and Morphs</a></li><li><a href="#function-plotting">Function Plotting</a></li></ul></li><li><a href="#ppx">[@@deriving scad]</a></li></ul></nav><div class="odoc-content"><h2 id="notable-differences-from-the-openscad-language"><a href="#notable-differences-from-the-openscad-language" class="anchor"></a>Notable differences from the OpenSCAD language</h2><ul><li>Angles are represented in radians (and converted to degrees when compiling to OpenSCAD).</li><li>The dimensional system (2D or 3D) each shape inhabits is tracked by the type system. This is used to restrict the operations that can be legally applied (e.g. 2D shapes cannot be moved off of the xy plane, <a href="Scad_ml/Scad/index.html#val-linear_extrude"><code>Scad.linear_extrude</code></a> can only be applied to 2D shapes) and enforcing non-mixing of 2D and 3D shapes during boolean operations.</li><li>Additional modules providing sweeps, roundovers, and more, inspired largely by <a href="https://github.com/revarbat/BOSL2">BOSL2</a>, but also other OpenSCAD libraries such as <a href="https://github.com/JustinSDK/dotSCAD/tree/master/src">dotSCAD</a>, and <a href="https://github.com/rcolyer/plot-function">PlotFunction</a>.</li></ul><h2 id="usage"><a href="#usage" class="anchor"></a>Usage</h2><pre><code>open Scad_ml

let () =
  let scad_logo =
    let rad = 5.
    and fn = 720 in
    let cyl = Scad.cylinder ~fn ~center:true ~height:(rad *. 2.3) (rad /. 2.) in
    let cross_cyl = Scad.rotate (v3 0. (Float.pi /. 2.) 0.) cyl in
    Scad.union
      [ Scad.difference
          (Scad.sphere ~fn rad)
          [ cyl; cross_cyl; Scad.rotate (v3 0. 0. (Float.pi /. 2.)) cross_cyl ]
      ; Scad.color ~alpha:0.25 Color.Magenta cross_cyl
      ]
  in
  Scad.to_file &quot;scad_logo.scad&quot; scad_logo</code></pre> <img src="../assets/scad_logo.png" style="width:125mm;" /> <p>Generated <code>.scad</code> scripts can then be viewed with the <a href="https://openscad.org/downloads.html">OpenSCAD viewer</a> as you normally would, or directly exporting <a href="Scad_ml/Scad/index.html#type-t"><code>Scad.t</code></a> into other model formats or PNGs with <a href="Scad_ml/Scad/index.html#val-export"><code>Scad.export</code></a> and <a href="Scad_ml/Scad/index.html#val-snapshot"><code>Scad.snapshot</code></a> respectively.</p><h2 id="api"><a href="#api" class="anchor"></a>API</h2><p><a href="Scad_ml/index.html"><code>Scad_ml</code></a> -- top level library interface</p><h3 id="core-dsl"><a href="#core-dsl" class="anchor"></a>Core DSL</h3><ul><li><a href="Scad_ml/Scad/index.html"><code>Scad</code></a> -- well-typed dimension aware OpenSCAD models</li><li><a href="Scad_ml/Text/index.html"><code>Text</code></a> -- <a href="Scad_ml/Scad/index.html#val-text"><code>Scad.text</code></a> configuration types</li><li><a href="Scad_ml/Color/index.html"><code>Color</code></a> -- <a href="Scad_ml/Scad/index.html#val-color"><code>Scad.color</code></a> configuration type</li></ul><h3 id="vectors-and-transformations"><a href="#vectors-and-transformations" class="anchor"></a>Vectors and transformations</h3><ul><li><a href="Scad_ml/V2/index.html"><code>V2</code></a> -- 2d vector operations</li><li><a href="Scad_ml/V3/index.html"><code>V3</code></a> -- 3d vector operations</li><li><a href="Scad_ml/Affine2/index.html"><code>Affine2</code></a> -- 2d affine transformation matrices</li><li><a href="Scad_ml/Affine3/index.html"><code>Affine3</code></a> -- 3d affine transformation matrices</li><li><a href="Scad_ml/Quaternion/index.html"><code>Quaternion</code></a> -- <a href="https://en.wikipedia.org/wiki/Quaternion">quaternion</a> manipulation andl application</li><li><a href="Scad_ml/Plane/index.html"><code>Plane</code></a> -- normalized cartesian plane operations</li></ul><h3 id="2d-paths-and-polygons"><a href="#2d-paths-and-polygons" class="anchor"></a>2d paths and polygons</h3><ul><li><a href="Scad_ml/Path2/index.html"><code>Path2</code></a> -- generation and manipulation of 2d paths</li><li><a href="Scad_ml/Bezier2/index.html"><code>Bezier2</code></a> -- 2d bezier curves, patches, and splines</li><li><a href="Scad_ml/CubicSpline/index.html"><code>CubicSpline</code></a> -- cubic spline interpolation of 2d paths</li><li><a href="Scad_ml/Poly2/index.html"><code>Poly2</code></a> -- 2d polygons (outer, and zero or more inner paths)</li><li><a href="Scad_ml/PolyText/index.html"><code>PolyText</code></a> -- point representations of text (via cairo)</li></ul><h3 id="3d-paths,-coplanar-polygons,-and-meshes"><a href="#3d-paths,-coplanar-polygons,-and-meshes" class="anchor"></a>3d paths, coplanar polygons, and meshes</h3><ul><li><a href="Scad_ml/Path3/index.html"><code>Path3</code></a> -- generation and manipulation of 3d paths</li><li><a href="Scad_ml/Bezier3/index.html"><code>Bezier3</code></a> -- 3d bezier curves, patches, and splines</li><li><a href="Scad_ml/Poly3/index.html"><code>Poly3</code></a> -- planar 3d polygons (outer, and zero or more inner paths)</li><li><a href="Scad_ml/Mesh/index.html"><code>Mesh</code></a> -- points and faces 3d mesh representation (polyhedrons)</li></ul><h3 id="utilities"><a href="#utilities" class="anchor"></a>Utilities</h3><ul><li><a href="Scad_ml/Math/index.html"><code>Math</code></a> -- float and 2d matrix operations</li><li><a href="Scad_ml/Export/index.html"><code>Export</code></a> -- exporting <code>.scad</code> scripts via OpenSCAD CLI</li><li><a href="Scad_ml/BallTree2/index.html"><code>BallTree2</code></a> -- 2d vector space partitioning search tree</li><li><a href="Scad_ml/BallTree3/index.html"><code>BallTree3</code></a> -- 3d vector space partitioning search tree</li></ul><h2 id="examples"><a href="#examples" class="anchor"></a>Examples</h2><h3 id="paths-and-sweeps"><a href="#paths-and-sweeps" class="anchor"></a>Paths and Sweeps</h3><ul><li><a href="offset_and_rounding.html"><b>Offset and roundovers</b></a></li><li><a href="default_vs_euler_sweeps.html"><b>Default vs euler path transformation reference</b></a></li><li><a href="bespoke_sweeps.html"><b>Bespoke sweep transforms (with direct affine transform generation)</b></a></li><li><a href="spline.html"><b>Cubic spline</b></a></li><li><a href="arc_points.html"><b>Arcing paths</b></a></li><li><a href="helices.html"><b>Helical paths and extrusions</b></a></li><li><a href="resampled_path.html"><b>Path resampling and scaling/twisting sweeps</b></a></li></ul><h3 id="rounded-extrusions"><a href="#rounded-extrusions" class="anchor"></a>Rounded Extrusions</h3><ul><li><a href="rounded_polyhole_sweep.html"><b>Rounded sweeps</b></a></li><li><a href="rounded_prisms.html"><b>Continuous curvature rounded prisms</b></a></li><li><a href="rounded_text.html"><b>Rounded extrusion of cairo imported polygonal font</b></a></li></ul><h3 id="skins-and-morphs"><a href="#skins-and-morphs" class="anchor"></a>Skins and Morphs</h3><ul><li><a href="profile_skinning.html"><b>Profile skinning</b></a></li><li><a href="morphing_sweeps.html"><b>Morphing sweeps and extrusions</b></a></li></ul><h3 id="function-plotting"><a href="#function-plotting" class="anchor"></a>Function Plotting</h3><ul><li><a href="polar_rose.html"><b>Rose polar plot</b></a></li><li><a href="cartesian_gravity_well.html"><b>Cartesian gravity well</b></a></li><li><a href="axial_chalice.html"><b>Axial chalice</b></a></li></ul><h2 id="ppx"><a href="#ppx" class="anchor"></a>[@@deriving scad]</h2><p>There is a companion ppx, <a href="https://github.com/geoffder/ppx_deriving_scad">[@@deriving scad]</a> for generating transformation functions for user-defined records and abstract types made up of the <a href="Scad_ml/Scad/index.html#type-t"><code>Scad.t</code></a>, along with their corresponding vector (<a href="Scad_ml/V2/index.html#type-t"><code>V2.t</code></a> or <a href="Scad_ml/V3/index.html#type-t"><code>V3.t</code></a>) types (and those composed of them) provided in this library.</p></div></body></html>